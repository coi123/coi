<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
  <meta http-equiv="PRAGMA" content="NO-CACHE" > 
  <meta http-equiv="CACHE-CONTROL" content="NO-CACHE" > 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF8"> 
  <meta name="keywords" content="COI Demo"> 
  
  <title>SDTM Query</title>
  <link rel="stylesheet" href="coi.css" type="text/css" >
  <link rel="stylesheet" href="treeview.css" type="text/css" > 
  <script src="src/jquery-latest.js" type="text/javascript" ></script>      
  <script src="src/querySql.js" type="text/javascript"></script>
  <script src="src/jquery.corner.js" type="text/javascript" ></script>
  <script src="src/parser.js" type="text/javascript" ></script>
  <script src="src/jquery.jcarousel.js" type="text/javascript" ></script>
  <script src="src/jquery.cookie.js" type="text/javascript" ></script> 
  <script src="src/jquery.treeview.js" type="text/javascript" ></script>
  <script src="src/jquery.treeview.pack.js" type="text/javascript" ></script>
  <script src="src/jquery.tabs.pack.js" type="text/javascript"></script>
  <script src="src/jschart.js" type="text/javascript" ></script>
  <script src="src/jquery-ajax-queue-1.0.js" type="text/javascript" ></script>
</head>
  
<body>  
  <div class="fourth">
    COI Demo : SPARQL Query String in SDTM
  </div>
  
  <div class="sparql">
  <pre>
  PREFIX sdtm: &lt;http://www.sdtm.org/vocabulary#&gt;
  PREFIX spl: &lt;http://www.hl7.org/v3ballot/xml/infrastructure/vocabulary/vocabulary#&gt;

    
  SELECT ?patient ?dob ?sex ?takes ?indicDate 
  WHERE {
  ?patient a sdtm:Patient .
           sdtm:middleName ?middleName ;
           sdtm:dateTimeOfBirth ?dob ;
           sdtm:sex ?sex .
  
           <div id="ageCond">
           </div>
           <div id="genderCond">
           </div>
  <div id="drugCond">
  </div>
  ?x1 sdtm:dosePerAdministration ?doseX1 .
  ?x1 sdtm:maxDosage ?maxDose .
  ?x1 sdtm:endDateTime ?dateTimeX1 .
  <div id="exclution">
  OPTIONAL {
  <div id="ageExtCond">
  </div>
  <div id="genderExtCond">
  </div>
  <div id="drugExtCond">
  </div>
  }
  FILTER (!bound(?x1).
  </div>
  
  }
  </pre>
  </div>
</body>   
</html>